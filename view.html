<!DOCTYPE html>
<html lang="en">
  <head>    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Adam Smallcomb">
    <link rel="icon" href="./assets/favicon.png">

    <title>DeLighted</title>
    <link rel="stylesheet" href="./assets/css/normalize.css">    
    <link rel="stylesheet" href="./assets/css/gform.css">
    <link rel="stylesheet" href="./assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
  </head>
  <body>
    <div id="header">
      <div class="row">
        <div class="column"><div class="button" id="next">Next</div></div>

        <div class="column">Manual</div>
      </div>    
    </div>

    <div id="main">
 
    </div>
    
    <script src="./assets/js/lodash.min.js"></script>    
    <script src='./assets/js/gform.min.js'></script> 
    <script src='./assets/js/gform.theme.js'></script>
    <script src='./assets/js/ractive.min.js'></script>
    <script>
    mydata = {index:0,items:[
      {label:'All Off',states:[0,0,0,0,0,0,0,0]},
      {label:'Christmas Tree',states:[0,0,0,0,1,1,0,1]},
      {label:'All Off',states:[0,0,0,0,0,0,0,0]},
      {label:'Stuff',states:[0,0,1,0,0,1,0,0]},
      {label:'All Off',states:[0,0,0,0,0,0,0,0]},
      {label:'second',states:[1,0,1,1,0,1,0,0]},
      {label:'All Off',states:[0,0,0,0,0,0,0,0]},
      {label:'second',states:[1,0,1,1,0,1,0,0]},
      {label:'All Off',states:[0,0,0,0,0,0,0,0]}
      ]};
    myractive = new Ractive({el: document.getElementById('main'),template:`
    {{#items}}
    <div class="container command {{#if @index == index}}active{{/if}}">
          <div class="row ">
            <div class="column-full label">{{label}}</div>
          </div>
          <div class="row bulbs">
            {{#states}}
            <div class="column"><i class="fa fa-circle-o {{#.}}fa-circle on{{/.}}"></i></div>
            {{/states}}
          </div>
        </div>
        {{/items}}
      `, data: mydata/*, partials: this.partials*/});
         document.querySelector('#next').addEventListener('click', function(e){
                // this.pub('cancel', this, e)}.bind(this)
                debugger;
                
                // mydata.index = ||0;
                mydata.index++ 
                if(mydata.index >= mydata.items.length){mydata.index = 0}
                myractive.set(mydata);
                
         })
    </script>
   </body>
</html>